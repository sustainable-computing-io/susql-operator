name: prometheus importer test
description: simple susql demo invoking prometheus-importer plugin
initialize:
  plugins:
    prometheus-importer:
      method: PrometheusImporter
      path: 'https://github.com/Shivani-G/prometheus-importer'
      global-config:
        step: '1h'
        start: '2024-09-01T23:50:30.781Z'
        end: '2024-09-30T00:00:30.781Z'
        query: 'rate(susql_container_joules_total)[1m])'
        metricLabels:
          - name
        metricName: 'energy'
        defaultLabels:
          duration: 3600
          cloud/vendor: 'ibm'
          cloud/instance-type: 'medium'
  outputs: 
    - yaml
tree:
  children:
    child:
      pipeline:
        - prometheus-importer
      inputs:
